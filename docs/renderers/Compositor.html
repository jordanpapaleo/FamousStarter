<!DOCTYPE html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Compositor | API Documentation | Platform | Famous</title><link href="http://fonts.googleapis.com/css?family=Roboto:400,300,500" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css"><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet" type="text/css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/zenburn.min.css"><link rel="stylesheet" href="../assets/styles/global.css"><link rel="stylesheet" href="../assets/styles/pages.css"><script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script></head><body><div class="component__body"><div class="component__heading"><p class="component__name">famous-renderers</p><p class="module__location"><a href="../renderers/Compositor.html" target="_blank" class="module__location__link">renderers/Compositor.js</a></p><h1 class="module__header">Compositor</h1></div><div class="component__main"><div class="constructor__section"><h2 class="constructor__heading"><span class="constructor__name">Compositor [constructor]&nbsp;</span></h2><p class="constructor__description"><p>Instantiates a new Compositor, used for routing commands received from the
WebWorker to the WebGL and DOM renderer.</p></p><pre class="constructor__example"><code>new Compositor()</code></pre></div><div class="static-functions__section"><h2 class="static-functions__heading">Static functions</h2><a name="receiveCommands"></a><h3 class="static-function__heading">Compositor.receiveCommands(commands)</h3><p class="static-function__description"><p>Used by ThreadManager to update the interal queue of incoming commands.
Receiving commands does not immediately start the rederning process.</p></p><h4 class="params__heading">Parameters:</h4><table class="table table-condensed params__table"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><span class="param__name">commands</span></td><td><span class="param__type">Array</span></td><td><span class="param__description"><p>command queue to be processed by the
                             compositor's <code>drawCommands</code> method</p></span></td></tr></tbody></table></div><div class="instance-methods__section"><h2 class="instance-methods__heading">Instance methods</h2><a name="sendEvent"></a><h3 class="instance-method__heading">.sendEvent(path, ev, payload)</h3><p class="instance-method__description"><p>Schedules an event to be sent to the WebWorker the next time the out command
queue is being flushed.</p></p><h4 class="params__heading">Parameters:</h4><table class="table table-condensed params__table"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><span class="param__name">path</span></td><td><span class="param__type">String</span></td><td><span class="param__description"><p>render path to the node the event should be
                         triggered on (<em>targeted event</em>)</p></span></td></tr><tr><td><span class="param__name">ev</span></td><td><span class="param__type">String</span></td><td><span class="param__description"><p>event type</p></span></td></tr><tr><td><span class="param__name">payload</span></td><td><span class="param__type">Object</span></td><td><span class="param__description"><p>event object (serializable using structured
                         cloning algorithm)</p></span></td></tr></tbody></table><a name="handleWith"></a><h3 class="instance-method__heading">.handleWith(commands)</h3><p class="instance-method__description"><p>Internal helper method used by <code>drawCommands</code>.</p></p><h4 class="params__heading">Parameters:</h4><table class="table table-condensed params__table"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><span class="param__name">commands</span></td><td><span class="param__type">Array</span></td><td><span class="param__description"><p>remaining message queue received from the
                             WebWorker, used to shift single messages from</p></span></td></tr></tbody></table><a name="getOrSetContext"></a><h3 class="instance-method__heading">.getOrSetContext(selector)</h3><p class="instance-method__description"><p>Retrieves the top-level VirtualElement attached to the passed in document
selector.
If no such element exists, one will be instantiated, therefore representing
the equivalent of a Context in the Main Thread.</p></p><h4 class="params__heading">Parameters:</h4><table class="table table-condensed params__table"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><span class="param__name">selector</span></td><td><span class="param__type">String</span></td><td><span class="param__description"><p>document query selector used for
                                     retrieving the DOM node the
                                     VirtualElement should be attached to</p></span></td></tr></tbody></table><a name="giveSizeFor"></a><h3 class="instance-method__heading">.giveSizeFor(commands)</h3><p class="instance-method__description"><p>Internal helper method used by <code>drawCommands</code>.</p></p><h4 class="params__heading">Parameters:</h4><table class="table table-condensed params__table"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><span class="param__name">commands</span></td><td><span class="param__type">Array</span></td><td><span class="param__description"><p>remaining message queue received from the
                             WebWorker, used to shift single messages from</p></span></td></tr></tbody></table><a name="sendResize"></a><h3 class="instance-method__heading">.sendResize(selector, size)</h3><p class="instance-method__description"><p>Internal helper method used for notifying the WebWorker about externally
resized contexts (e.g. by resizing the browser window).</p></p><h4 class="params__heading">Parameters:</h4><table class="table table-condensed params__table"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><span class="param__name">selector</span></td><td><span class="param__type">String</span></td><td><span class="param__description"><p>render path to the node (context) that should
                             be resized</p></span></td></tr><tr><td><span class="param__name">size</span></td><td><span class="param__type">Array</span></td><td><span class="param__description"><p>new context size</p></span></td></tr></tbody></table><a name="drawCommands"></a><h3 class="instance-method__heading">.drawCommands()</h3><p class="instance-method__description"><p>Processes the previously via <code>receiveCommands</code> updated incoming &quot;in&quot;
command queue.
Called by ThreadManager.</p></p><a name="clearCommands"></a><h3 class="instance-method__heading">.clearCommands()</h3><p class="instance-method__description"><p>Flushes the queue of outgoing &quot;out&quot; commands.
Called by ThreadManager.</p></p></div><div class="members__section"><h2 class="members__heading">Members</h2><a name="CommandsToOutput"></a><h3 class="member__heading">.CommandsToOutput</h3><p class="member__description"><p>Exposes a key-value-mapping of commands to the renderer they should be
routed to.</p></p></div><p class="copyright">Copyright 2015 &copy; Famous Industries, Inc.</p></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js" type="text/javascript"></script></body></html>